name: CodeQL (Advanced - Manual)
on:
  workflow_dispatch:
    inputs:
      confirm_default_setup_disabled:
        description: "Set to true only after GitHub CodeQL default setup is disabled."
        required: true
        type: boolean
        default: false
jobs:
  analyze:
    if: ${{ github.event.inputs.confirm_default_setup_disabled == 'true' }}
    name: Analyze
    runs-on: ubuntu-latest
    permissions:
      actions: read
      contents: read
      security-events: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      - name: Initialize CodeQL
        uses: github/codeql-action/init@v3
        with:
          languages: javascript
      - name: Autobuild
        uses: github/codeql-action/autobuild@v3
      - name: Perform CodeQL Analysis
        uses: github/codeql-action/analyze@v3
        with:
          category: '/language'
